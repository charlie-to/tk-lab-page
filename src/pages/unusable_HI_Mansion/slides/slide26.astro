---
// images
import { Image } from 'astro:assets';
import SlideLayout from '@layouts/slide_layout.astro';
import ghost from './Images/_ghost.png';
---

<SlideLayout>
  <div class="slide-content">
    <div
      class="textArea"
      style="margin: max(200px, 20vw); font-size: max(40px, 3.6vw);"
    >
      <div class="text first" style="opacity: 0;">
        <div>準備はいいですか？</div>
        <div>
          <span class="white" style="text-decoration: underline;">5秒以内</span
          >&nbsp;ですよ
        </div>
        <div class="text second" style="opacity: 0;">いきますよ・・・</div>
      </div>
      <Image
        src={ghost}
        alt="ghost"
        class="ghost"
        style="width: max(200px, 20vw); opacity: 0; position: absolute; top: max(300px, 30vw); left: 70%; transition: opacity 1s, width 1s, transform 1s;"
      />
    </div>
  </div>
  <script is:inline>
    window.addEventListener('DOMContentLoaded', () => {
      const textFirst = document.querySelector('.first');
      const textSecond = document.querySelector('.second');
      const ghost = document.querySelector('.ghost');

      // 画面の要素を時間差で登場させる
      setTimeout(() => {
        textFirst.style.transition = 'opacity 2s ease-in-out';
        ghost.style.transition = 'opacity 1s ease-in-out';
        textFirst.style.opacity = 1;
        ghost.style.opacity = 1;
      }, 500);

      setTimeout(() => {
        textSecond.style.transition = 'opacity 2s ease-in-out';
        textSecond.style.opacity = 1;
      }, 4000);

      setTimeout(() => {
        const nextPageUrl = '../slide27/index.html';

        // 次のページを読み込む
        window.fetch(nextPageUrl).then((response) => {
          // 読み込みが完了したら画面遷移を行う
          window.location.href = nextPageUrl;
        });
      }, 7000);
    });
  </script>
</SlideLayout>
