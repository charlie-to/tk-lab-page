---
// images
import { Image } from 'astro:assets';
import SlideLayout from '@layouts/slide_layout.astro';
import ghost from './Images/_ghost.png';
---

<SlideLayout>
  <div class="slide-content">
    <div
      class="textArea"
      style="position: relative; font-size: max(40px, 3.6vw); margin: max(30px, 4vw);"
    >
      <div class="text first" style="opacity: 0;">さぁ、問題です！</div>
      <div class="text second" style="opacity: 0;">
        <div>今から示す漢字と同じ漢字の</div>
        <div>
          ボタンを&nbsp;<span class="white" style="text-decoration: underline;"
            >5秒以内</span
          >&nbsp;にクリックしてください
        </div>
      </div>
      <div style="margin-left: max(30px, 4vw)">
        <div class="text third" style="opacity: 0;">例えば、</div>
        <div
          class="text fourth"
          style="display: flex; align-items: center; opacity: 0;"
        >
          <div>
            <span class="white">「東」</span>と表示されたら・・・
          </div>
          <div
            class="textButton ml-10"
            id="east"
            style="
                        opacity: 0;
                        transition: opacity 1s"
          >
            東
          </div>
        </div>
        <div
          class="text fifth mt-1"
          style="display: flex; align-items: center; opacity: 0;"
        >
          <div>
            <span class="white">「北」</span>と表示されたら・・・
          </div>
          <div
            class="textButton ml-10"
            id="north"
            style="
                        opacity: 0;
                        transition: opacity 1s"
          >
            北
          </div>
        </div>
      </div>
      <div class="text sixth" style="opacity: 0;">をクリックしてください</div>
    </div>

    <Image
      src={ghost}
      alt="ghost"
      class="ghost"
      style="width: max(180px, 18vw); transform: translate(-50%, -50%); opacity: 0; position: absolute; top: 15%; left: 85%; transition: opacity 1s, width 1s, transform 1s;"
    />
  </div>
  <script is:inline>
    window.addEventListener('DOMContentLoaded', () => {
      const textFirst = document.querySelector('.first');
      const textSecond = document.querySelector('.second');
      const textThird = document.querySelector('.third');
      const textFourth = document.querySelector('.fourth');
      const textFifth = document.querySelector('.fifth');
      const textSixth = document.querySelector('.sixth');
      const ghost = document.querySelector('.ghost');
      const east = document.querySelector('#east');
      const north = document.querySelector('#north');

      // 画面の要素を時間差で登場させる
      setTimeout(() => {
        textFirst.style.transition = 'opacity 2s ease-in-out';
        ghost.style.transition = 'opacity 2s ease-in-out';
        textFirst.style.opacity = 1;
        ghost.style.opacity = 1;
      }, 500);

      setTimeout(() => {
        textSecond.style.transition = 'opacity 2s ease-in-out';
        textSecond.style.opacity = 1;
      }, 3000);

      setTimeout(() => {
        textThird.style.transition = 'opacity 1s ease-in-out';
        textThird.style.opacity = 1;
      }, 8000);

      setTimeout(() => {
        textFourth.style.transition = 'opacity 2s ease-in-out';
        textFourth.style.opacity = 1;
      }, 9000);

      setTimeout(() => {
        east.style.transition = 'opacity 1s ease-in-out';
        east.style.opacity = 1;
      }, 11000);

      setTimeout(() => {
        textFifth.style.transition = 'opacity 2s ease-in-out';
        textFifth.style.opacity = 1;
      }, 12000);

      setTimeout(() => {
        north.style.transition = 'opacity 1s ease-in-out';
        north.style.opacity = 1;
      }, 14000);

      setTimeout(() => {
        textSixth.style.transition = 'opacity 2s ease-in-out';
        textSixth.style.opacity = 1;
      }, 15000);

      setTimeout(() => {
        const nextPageUrl = '../slide26/index.html';

        // 次のページを読み込む
        window.fetch(nextPageUrl).then((response) => {
          // 読み込みが完了したら画面遷移を行う
          window.location.href = nextPageUrl;
        });
      }, 20000);
    });
  </script>
</SlideLayout>
